/**
 * overhang.min.js
 * Paul Krishnamurthy 2016
 *
 * https://paulkr.com
 * paul@paulkr.com
 */

!function(e){e.fn.overhang=function(arguments){var o=e(this),n=e('<div id="overhang" class="overhang"></div>'),a=e('<div class="overhang-overlay"></div>');e(".overhang").remove(),e(".overhang-overlay").remove();var r={success:["#2ECC71","#27AE60"],error:["#E74C3C","#C0392B"],warn:["#E67E22","#D35400"],info:["#3498DB","#2980B9"],prompt:["#9B59B6","#8E44AD"],confirm:["#1ABC9C","#16A085"],default:["#95A5A6","#7F8C8D"]},t=e.extend({type:"success",custom:!1,message:"This is an overhang.js message!",textColor:"#FFFFFF",yesMessage:"Yes",noMessage:"No",yesColor:"#2ECC71",noColor:"#E74C3C",duration:1.5,speed:500,closeConfirm:!1,upper:!1,easing:"easeOutBounce",html:!1,overlay:!1,callback:function(){},slideDownCallback:function(){}},arguments);function s(e,r){a.fadeOut(100),n.slideUp(t.speed,function(){e&&t.callback(null!==r?o.data(r):"")})}t.type=t.type.toLowerCase();-1===e.inArray(t.type,["success","error","warn","info","prompt","confirm"])&&(t.type="default",console.log("You have entered invalid type name for an overhang message. Overhang resorted to the default theme.")),t.custom?(t.primary=arguments.primary||r.default[0],t.accent=arguments.accent||r.default[1]):(t.primary=r[t.type][0]||r.default[0],t.accent=r[t.type][1]||r.default[1]),"prompt"!==t.type&&"confirm"!==t.type||(t.primary=arguments.primary||r[t.type][0],t.accent=arguments.accent||r[t.type][1],t.closeConfirm=!0),n.css("background-color",t.primary),n.css("border-bottom","6px solid "+t.accent);var l=e('<span class="overhang-message"></span>');l.css("color",t.textColor),t.html?l.html(t.message):l.text(t.upper?t.message.toUpperCase():t.message),n.append(l);var c=e('<input class="overhang-prompt-field" />'),p=e('<button class="overhang-yes-option">'+t.yesMessage+"</button>"),i=e('<button class="overhang-no-option">'+t.noMessage+"</button>");if(p.css("background-color",t.yesColor),i.css("background-color",t.noColor),t.closeConfirm){var u=e('<span class="overhang-close"></span>');"confirm"!==t.type&&n.append(u)}if("prompt"===t.type?(n.append(c),o.data("overhangPrompt",null),c.keydown(function(e){13==e.keyCode&&(o.data("overhangPrompt",c.val()),s(!0,"overhangPrompt"))})):"confirm"===t.type&&(n.append(p),n.append(i),n.append(u),o.data("overhangConfirm",null),p.click(function(){o.data("overhangConfirm",!0),s(!0,"overhangConfirm")}),i.click(function(){o.data("overhangConfirm",!1),s(!0,"overhangConfirm")})),o.append(n),n.slideDown(t.speed,t.easing,t.slideDownCallback),t.overlay&&(t.overlayColor&&a.css("background-color",t.overlayColor),o.append(a)),t.closeConfirm&&!arguments.duration)u.click(function(){"prompt"!==t.type&&"confirm"!==t.type?s(!0,null):s(!1,null)});else if(t.closeConfirm&&arguments.duration){var d=setTimeout(function(){n.slideUp(t.speed,function(){s(!0,null)})},1e3*t.duration);u.click(function(){clearTimeout(d),"prompt"!==t.type&&"confirm"!==t.type?s(!0,null):s(!1,null)})}else n.delay(1e3*t.duration).slideUp(t.speed,function(){s(!0,null)})}}(jQuery);
